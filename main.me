/*
    main.me -- Main MakeMe File for the SQLite library
 */

Me.load({
    plugins: [ 'configuration', 'installs' ],

    settings: {
        me: '=>0.8.4',
        prefixes: 'install-prefixes',
    },

    usage: {
        assert: 'Enable program assertions',
    },

    targets: {
        sqlite: {
            configurable: true,
        },
        libsql: {
            type: 'lib',
            headers: [ 'src/*.h' ],
            sources: [ 'src/*.c' ],
            '-compiler': [
                '-Wall',
                '-Wshorten-64-to-32',
                '-Wunreachable-code',
            ],
            ifdef: [ 'sqlite' ],
        },
    },
    manifest: {     
        packages: { 
            pak: {
                inherit:    'package-manifest',
                prefixes:   [ 'src'],
                sets:       [ 'pak' ],
            },
        },
        sets: {
            pak: [
                {   
                    from:       'installs/sqlite.me',
                    to:         '${src}/dist/sqlite.me',                                                   

                }, { 
                    from: [
                                'src/sqlite3.h', 
                                'src/sqlite3.c', 
                                'src/sqlite.c'
                    ],
                    to:         '${src}/dist/',
                },
            ],                                                                                                 
        }
    }, 
})
